# MPU6050

说明：使用了硬件I2C和DMA来传输数据到OLED显示屏，提高了屏幕刷新率，无屏闪现象。并使用硬件I2C来驱动MPU6050，相比于软件I2C，提高了数据的获取速率。将陀螺仪的俯仰角pitch和翻滚角roll显示在屏幕上。使用了四元素与互补滤波算法解算参数，从而得到俯仰角和翻滚角。



MPU6050是一个6轴姿态传感器，可以测量芯片自身X、Y、Z轴的加速度、角速度参数，通过数据融合，可进一步得到姿态角，常应用于平衡车、飞行器等需要检测自身姿态的场景



3轴加速度计（Accelerometer）：测量X、Y、Z轴的加速度



3轴陀螺仪传感器（Gyroscope）：测量X、Y、Z轴的角速度



6轴：3轴加速度，3轴角加速度



9轴：3轴加速度，3轴角加速度，3轴磁场强度



10轴：  3轴加速度，3轴角加速度，3轴磁场强度，一个气压强度



加速度计测量的是加速度（可以看作测力计，根据牛顿第二定律F=ma可以计算加速度），加速度计具有静态稳定性，不具有动态稳定性



1. MPU6050参数：
   - 16位ADC采集传感器的模拟信号，量化范围：-32768~32767
   - 加速度计满量程选择：±2、±4、±8、±16（g|9.8m/s2）
   - 陀螺仪满量程选择： ±250、±500、±1000、±2000（°/sec）
   - 可配置的数字低通滤波器
   - 可配置的时钟源
   - 可配置的采样分频
   - I2C从机地址：1101000（AD0=0）     1101001（AD0=1）
   - 若从中间拆开，110 1000十六进制就是0x68，发送第一个字节时将(0x68<<1) | 0/1,  0xD0/0xD1;所以I2C的从机地址有两种说法：0x68是直接把7位地址转换16进制得到的，0xD0是 融入了读写位的从机地址     

2. MPU6050硬件电路

- LDO：低压差线性稳压器

- CON1：八针的排针

- 引脚：            

VCC，GND，SCL、SDA，XCL，XDA，AD0，INT
功能：

1. 电源
   - I2C通信引脚（内置了两个4.7K的电阻，已经为弱上拉模式，所以可直接接GPIO，不用添加电阻）
   - 主机I2C通信引脚
   - 通常可外接磁力计和气压计，弥补6轴功能不全的情况，同时MPU6050的主机接口可以直接访问这些拓展芯片的数据，在MPU6050里有DMP单元，会进行数据融合·和姿态解算

2. 从机地址最低位

   - 1101000 / 1101001

   - 图中可以看到AD0接电阻默认下拉到低电平了，若引脚悬空，就是低电平。若想置高电平，就把AD0直接引到VCC，强上拉至高电平

   - 中断信号输出
     配置芯片内部的一些事件，来触发中断引脚的输出

   - LDO是电源供电的逻辑，MPU6050的芯片VDD供电是2.375~3.46V，属于3.3V供电的设备，不能直接接5V，所以接入了一个3.3V的稳压器，电源（5V）可在3.3V到5V之间给芯片端供电

   - LED是电源指示灯。

参考资料：https://blog.csdn.net/2301_77206599/article/details/132357327



接线说明：



OLED：SCL---PB6,SDA---PB7



MPU6050: SCL---PB10,SDA---PB11



串口2

